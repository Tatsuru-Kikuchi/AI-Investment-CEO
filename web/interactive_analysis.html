<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive AI Productivity Analysis - Additional Figures</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            margin: 20px;
            background-color: #f8fafc;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 3px solid #2563eb;
        }
        .figure-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 40px;
            margin: 40px 0;
        }
        .figure-container {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 25px;
            background: #fafbff;
        }
        .figure-title {
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #1f2937;
            padding-bottom: 10px;
            border-bottom: 1px solid #d1d5db;
        }
        .figure-canvas {
            width: 100%;
            height: 400px;
            margin-bottom: 15px;
        }
        .figure-notes {
            font-size: 11px;
            color: #6b7280;
            line-height: 1.4;
            background: #f9fafb;
            padding: 12px;
            border-radius: 6px;
            border-left: 3px solid #3b82f6;
        }
        .controls {
            margin: 20px 0;
            padding: 15px;
            background: #f1f5f9;
            border-radius: 8px;
            text-align: center;
        }
        .btn {
            background: #2563eb;
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 13px;
        }
        .btn:hover {
            background: #1d4ed8;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .stat-number {
            font-size: 24px;
            font-weight: bold;
        }
        .stat-label {
            font-size: 12px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“Š AI Investment and Firm Productivity: Interactive Analysis</h1>
            <p style="color: #6b7280; font-style: italic;">Comprehensive Visualization of Research Findings</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">2.4%</div>
                <div class="stat-label">Productivity Effect</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">547</div>
                <div class="stat-label">Firms Analyzed</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">Â¥1.15T</div>
                <div class="stat-label">Max GDP Impact</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">24.7</div>
                <div class="stat-label">F-Statistic (IV)</div>
            </div>
        </div>

        <div class="figure-grid">
            <!-- Figure A: Firm Size Distribution -->
            <div class="figure-container">
                <div class="figure-title">Figure A: AI Adoption by Firm Size Distribution</div>
                <canvas id="firmSizeChart" class="figure-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="updateFirmSize('revenue')">By Revenue</button>
                    <button class="btn" onclick="updateFirmSize('employees')">By Employees</button>
                    <button class="btn" onclick="updateFirmSize('assets')">By Assets</button>
                </div>
                <div class="figure-notes">
                    <strong>Notes:</strong> This figure shows AI adoption rates across different firm size categories. Larger firms show consistently higher adoption rates across all metrics. Size categories: Small (<Â¥1B revenue), Medium (Â¥1-10B), Large (Â¥10-100B), Very Large (>Â¥100B). Sample includes 547 Japanese firms from 2018-2023.
                </div>
            </div>

            <!-- Figure B: Temporal Adoption Patterns -->
            <div class="figure-container">
                <div class="figure-title">Figure B: AI Adoption Patterns by Industry Over Time</div>
                <canvas id="temporalChart" class="figure-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="toggleIndustry('manufacturing')">Manufacturing</button>
                    <button class="btn" onclick="toggleIndustry('services')">Services</button>
                    <button class="btn" onclick="toggleIndustry('retail')">Retail</button>
                    <button class="btn" onclick="toggleIndustry('finance')">Finance</button>
                    <button class="btn" onclick="resetIndustries()">Show All</button>
                </div>
                <div class="figure-notes">
                    <strong>Notes:</strong> Temporal patterns of AI adoption across industries from 2018-2023. Manufacturing leads in early adoption, while services show rapid acceleration post-2020. Click industry buttons to toggle visibility. Data shows percentage of firms in each industry that have adopted AI technologies.
                </div>
            </div>

            <!-- Figure C: CEO Demographics Analysis -->
            <div class="figure-container">
                <div class="figure-title">Figure C: CEO Characteristics and AI Investment Propensity</div>
                <canvas id="ceoChart" class="figure-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="updateCEO('age')">Age Distribution</button>
                    <button class="btn" onclick="updateCEO('education')">Education</button>
                    <button class="btn" onclick="updateCEO('experience')">Experience</button>
                </div>
                <div class="figure-notes">
                    <strong>Notes:</strong> Analysis of CEO characteristics affecting AI adoption decisions. Younger CEOs (40-50) show highest adoption rates. Technical education increases adoption probability by 22.3pp. Technology industry experience adds 16.2pp to adoption likelihood.
                </div>
            </div>

            <!-- Figure D: Regional Analysis -->
            <div class="figure-container">
                <div class="figure-title">Figure D: Regional Distribution of AI Productivity Effects</div>
                <canvas id="regionalChart" class="figure-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="updateRegional('adoption')">Adoption Rates</button>
                    <button class="btn" onclick="updateRegional('productivity')">Productivity Effects</button>
                    <button class="btn" onclick="updateRegional('investment')">Investment Levels</button>
                </div>
                <div class="figure-notes">
                    <strong>Notes:</strong> Geographic analysis of AI adoption and productivity effects across Japanese regions. Tokyo/Kansai regions lead in adoption (25%) and show highest productivity gains (2.8%). Regional variation suggests importance of knowledge spillovers and technology clusters.
                </div>
            </div>

            <!-- Figure E: Investment Intensity vs Outcomes -->
            <div class="figure-container">
                <div class="figure-title">Figure E: AI Investment Intensity and Productivity Outcomes</div>
                <canvas id="intensityChart" class="figure-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="updateIntensity('scatter')">Scatter Plot</button>
                    <button class="btn" onclick="updateIntensity('quartiles')">By Quartiles</button>
                    <button class="btn" onclick="updateIntensity('functions')">By Function</button>
                </div>
                <div class="figure-notes">
                    <strong>Notes:</strong> Relationship between AI investment intensity and productivity outcomes. Clear positive correlation with diminishing returns at high investment levels. Top quartile investors (>Â¥500M) achieve 3.2% productivity gains vs 1.8% for bottom quartile.
                </div>
            </div>

            <!-- Figure F: Mechanism Evolution -->
            <div class="figure-container">
                <div class="figure-title">Figure F: Evolution of AI Impact Mechanisms (2018-2023)</div>
                <canvas id="mechanismChart" class="figure-canvas"></canvas>
                <div class="controls">
                    <button class="btn" onclick="updateMechanism('stacked')">Stacked Area</button>
                    <button class="btn" onclick="updateMechanism('individual')">Individual Lines</button>
                    <button class="btn" onclick="updateMechanism('cumulative')">Cumulative</button>
                </div>
                <div class="figure-notes">
                    <strong>Notes:</strong> Evolution of the three productivity mechanisms over time. Cost reduction dominated early adoption (2018-2020), while revenue and innovation effects strengthened in later years. Shows maturation of AI applications from automation to value creation.
                </div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 40px; padding: 20px; background: #f8fafc; border-radius: 8px;">
            <p><strong>Repository:</strong> <a href="https://github.com/Tatsuru-Kikuchi/AI-Investment-CEO">AI-Investment-CEO</a></p>
            <p><strong>Contact:</strong> tatsuru.kikuchi@gmail.com</p>
            <p><strong>Research:</strong> AI Investment and Firm Productivity Analysis</p>
        </div>
    </div>

    <script>
        let charts = {};
        let visibleIndustries = new Set(['manufacturing', 'services', 'retail', 'finance']);

        // Initialize all charts
        function initializeCharts() {
            createFirmSizeChart();
            createTemporalChart();
            createCEOChart();
            createRegionalChart();
            createIntensityChart();
            createMechanismChart();
        }

        // Figure A: Firm Size Distribution
        function createFirmSizeChart() {
            const ctx = document.getElementById('firmSizeChart').getContext('2d');
            if (charts.firmSize) charts.firmSize.destroy();
            
            charts.firmSize = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Small\n(<Â¥1B)', 'Medium\n(Â¥1-10B)', 'Large\n(Â¥10-100B)', 'Very Large\n(>Â¥100B)'],
                    datasets: [{
                        label: 'AI Adoption Rate (%)',
                        data: [12, 28, 45, 67],
                        backgroundColor: ['#94a3b8', '#3b82f6', '#1d4ed8', '#1e40af'],
                        borderColor: ['#64748b', '#2563eb', '#1e3a8a', '#1e3a8a'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 80,
                            title: {
                                display: true,
                                text: 'AI Adoption Rate (%)',
                                font: { family: 'Times New Roman' }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Firm Size Category',
                                font: { family: 'Times New Roman' }
                            }
                        }
                    }
                }
            });
        }

        // Figure B: Temporal Adoption
        function createTemporalChart() {
            const ctx = document.getElementById('temporalChart').getContext('2d');
            if (charts.temporal) charts.temporal.destroy();
            
            const data = {
                labels: ['2018', '2019', '2020', '2021', '2022', '2023'],
                datasets: [
                    {
                        label: 'Manufacturing',
                        data: [15, 22, 28, 35, 42, 48],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        hidden: !visibleIndustries.has('manufacturing')
                    },
                    {
                        label: 'Services',
                        data: [8, 12, 18, 28, 38, 45],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        hidden: !visibleIndustries.has('services')
                    },
                    {
                        label: 'Retail',
                        data: [5, 9, 15, 22, 32, 38],
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        hidden: !visibleIndustries.has('retail')
                    },
                    {
                        label: 'Finance',
                        data: [12, 18, 25, 30, 35, 42],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        hidden: !visibleIndustries.has('finance')
                    }
                ]
            };

            charts.temporal = new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: { font: { family: 'Times New Roman' } }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 60,
                            title: {
                                display: true,
                                text: 'AI Adoption Rate (%)',
                                font: { family: 'Times New Roman' }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Year',
                                font: { family: 'Times New Roman' }
                            }
                        }
                    }
                }
            });
        }

        // Figure C: CEO Analysis
        function createCEOChart() {
            const ctx = document.getElementById('ceoChart').getContext('2d');
            if (charts.ceo) charts.ceo.destroy();
            
            charts.ceo = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['30-40 years', '40-50 years', '50-60 years', '60+ years'],
                    datasets: [{
                        data: [65, 45, 25, 15],
                        backgroundColor: ['#10b981', '#3b82f6', '#f59e0b', '#ef4444'],
                        borderWidth: 2,
                        borderColor: '#fff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: { font: { family: 'Times New Roman' } }
                        }
                    }
                }
            });
        }

        // Figure D: Regional Analysis
        function createRegionalChart() {
            const ctx = document.getElementById('regionalChart').getContext('2d');
            if (charts.regional) charts.regional.destroy();
            
            charts.regional = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Tokyo', 'Osaka', 'Nagoya', 'Fukuoka', 'Sendai', 'Sapporo'],
                    datasets: [{
                        label: 'AI Adoption Rate (%)',
                        data: [35, 28, 25, 20, 18, 15],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { font: { family: 'Times New Roman' } }
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 40,
                            ticks: { font: { family: 'Times New Roman' } }
                        }
                    }
                }
            });
        }

        // Figure E: Investment Intensity
        function createIntensityChart() {
            const ctx = document.getElementById('intensityChart').getContext('2d');
            if (charts.intensity) charts.intensity.destroy();
            
            charts.intensity = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Firms',
                        data: [
                            {x: 50, y: 1.2}, {x: 120, y: 1.8}, {x: 200, y: 2.1}, {x: 350, y: 2.4},
                            {x: 500, y: 2.8}, {x: 750, y: 3.2}, {x: 1000, y: 3.4}, {x: 1500, y: 3.5}
                        ],
                        backgroundColor: '#3b82f6',
                        borderColor: '#2563eb',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'AI Investment (Â¥ millions)',
                                font: { family: 'Times New Roman' }
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'Productivity Effect (%)',
                                font: { family: 'Times New Roman' }
                            }
                        }
                    }
                }
            });
        }

        // Figure F: Mechanism Evolution
        function createMechanismChart() {
            const ctx = document.getElementById('mechanismChart').getContext('2d');
            if (charts.mechanism) charts.mechanism.destroy();
            
            charts.mechanism = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['2018', '2019', '2020', '2021', '2022', '2023'],
                    datasets: [
                        {
                            label: 'Cost Reduction',
                            data: [50, 48, 45, 42, 40, 40],
                            borderColor: '#ef4444',
                            backgroundColor: 'rgba(239, 68, 68, 0.1)',
                            fill: true
                        },
                        {
                            label: 'Revenue Enhancement',
                            data: [30, 32, 33, 34, 35, 35],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true
                        },
                        {
                            label: 'Innovation Acceleration',
                            data: [20, 20, 22, 24, 25, 25],
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: { font: { family: 'Times New Roman' } }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 60,
                            title: {
                                display: true,
                                text: 'Mechanism Contribution (%)',
                                font: { family: 'Times New Roman' }
                            }
                        }
                    }
                }
            });
        }

        // Update functions
        function updateFirmSize(metric) {
            const data = {
                revenue: [12, 28, 45, 67],
                employees: [15, 32, 48, 65],
                assets: [10, 25, 42, 70]
            };
            charts.firmSize.data.datasets[0].data = data[metric];
            charts.firmSize.update();
        }

        function toggleIndustry(industry) {
            visibleIndustries.has(industry) ? 
                visibleIndustries.delete(industry) : 
                visibleIndustries.add(industry);
            createTemporalChart();
        }

        function resetIndustries() {
            visibleIndustries = new Set(['manufacturing', 'services', 'retail', 'finance']);
            createTemporalChart();
        }

        function updateCEO(type) {
            const data = {
                age: {
                    labels: ['30-40 years', '40-50 years', '50-60 years', '60+ years'],
                    data: [65, 45, 25, 15]
                },
                education: {
                    labels: ['Technical Degree', 'Business Degree', 'Other Degree', 'No Degree'],
                    data: [55, 35, 20, 8]
                },
                experience: {
                    labels: ['Tech Industry', 'Traditional Industry', 'Mixed Background', 'No Experience'],
                    data: [48, 30, 25, 12]
                }
            };
            charts.ceo.data.labels = data[type].labels;
            charts.ceo.data.datasets[0].data = data[type].data;
            charts.ceo.update();
        }

        function updateRegional(metric) {
            const data = {
                adoption: [35, 28, 25, 20, 18, 15],
                productivity: [2.8, 2.5, 2.3, 2.1, 1.9, 1.7],
                investment: [850, 620, 480, 320, 280, 200]
            };
            charts.regional.data.datasets[0].data = data[metric];
            charts.regional.update();
        }

        function updateIntensity(view) {
            if (view === 'quartiles') {
                charts.intensity.config.type = 'bar';
                charts.intensity.data = {
                    labels: ['Q1 (Low)', 'Q2', 'Q3', 'Q4 (High)'],
                    datasets: [{
                        label: 'Productivity Effect (%)',
                        data: [1.8, 2.2, 2.6, 3.2],
                        backgroundColor: ['#94a3b8', '#3b82f6', '#1d4ed8', '#1e40af']
                    }]
                };
            } else {
                charts.intensity.config.type = 'scatter';
                createIntensityChart();
                return;
            }
            charts.intensity.update();
        }

        function updateMechanism(view) {
            // Implementation for different mechanism views
            createMechanismChart();
        }

        // Initialize on page load
        window.onload = function() {
            initializeCharts();
        };
    </script>
</body>
</html>